changed in both
  base   100644 62dfef265ea8b378ba08e76b79ae7efba8773233 electron.gyp
  our    100644 944ddab2a3fd879044e31677e4bac2843fffbdee electron.gyp
  their  100644 69bd1ab502943a316241d93537e2089ded9cd5d2 electron.gyp
@@ -288,6 +288,8 @@
       ],
       'sources': [
         '<@(lib_sources)',
+        '<@(native_mate_files)',
+        '<(SHARED_INTERMEDIATE_DIR)/atom_natives.h',
       ],
       'include_dirs': [
         '.',
@@ -388,6 +390,16 @@
             'vendor/breakpad/breakpad.gyp:breakpad_sender',
           ],
         }],  # OS=="win"
+        ['OS=="mac"', {
+          'sources': [
+            '<@(lib_sources_mac)',
+          ],
+        }],
+        ['OS!="mac"', {
+          'sources': [
+            '<@(lib_sources_views)',
+          ],
+        }],
         ['OS=="mac" and mas_build==0', {
           'dependencies': [
             'vendor/crashpad/client/client.gyp:crashpad_client',
changed in both
  base   100644 44dcc015d58abeab12e4db6124f9c0798ecb539a filenames.gypi
  our    100644 f57860558f06b7e5d8a50f48cfc7e53044df0bc6 filenames.gypi
  their  100644 11c4ced9019f518211a6d11b969c13e1613f25fc filenames.gypi
@@ -111,7 +111,6 @@
       'atom/app/atom_content_client.h',
       'atom/app/atom_main_delegate.cc',
       'atom/app/atom_main_delegate.h',
-      'atom/app/atom_main_delegate_mac.mm',
       'atom/app/command_line_args.cc',
       'atom/app/command_line_args.h',
       'atom/app/uv_task_runner.cc',
@@ -136,10 +135,6 @@
       'atom/browser/api/atom_api_in_app_purchase.h',
       'atom/browser/api/atom_api_menu.cc',
       'atom/browser/api/atom_api_menu.h',
-      'atom/browser/api/atom_api_menu_mac.h',
-      'atom/browser/api/atom_api_menu_mac.mm',
-      'atom/browser/api/atom_api_menu_views.cc',
-      'atom/browser/api/atom_api_menu_views.h',
       'atom/browser/api/atom_api_net.cc',
       'atom/browser/api/atom_api_net.h',
       'atom/browser/api/atom_api_net_log.cc',
@@ -162,8 +157,6 @@
       'atom/browser/api/atom_api_session.h',
       'atom/browser/api/atom_api_system_preferences.cc',
       'atom/browser/api/atom_api_system_preferences.h',
-      'atom/browser/api/atom_api_system_preferences_mac.mm',
-      'atom/browser/api/atom_api_system_preferences_win.cc',
       'atom/browser/api/atom_api_top_level_window.cc',
       'atom/browser/api/atom_api_top_level_window.h',
       'atom/browser/api/atom_api_tray.cc',
@@ -174,16 +167,17 @@
       'atom/browser/api/atom_api_view.h',
       'atom/browser/api/atom_api_web_contents.cc',
       'atom/browser/api/atom_api_web_contents.h',
+<<<<<<< .our
       'atom/browser/api/atom_api_web_contents_mac.mm',
       'atom/browser/api/atom_api_web_contents_view.cc',
       'atom/browser/api/atom_api_web_contents_view.h',
+=======
+>>>>>>> .their
       'atom/browser/api/atom_api_web_request.cc',
       'atom/browser/api/atom_api_web_request.h',
       'atom/browser/api/atom_api_web_view_manager.cc',
       'atom/browser/api/atom_api_browser_window.cc',
       'atom/browser/api/atom_api_browser_window.h',
-      'atom/browser/api/atom_api_browser_window_mac.mm',
-      'atom/browser/api/atom_api_browser_window_views.cc',
       'atom/browser/api/event.cc',
       'atom/browser/api/event.h',
       'atom/browser/api/event_emitter.cc',
@@ -198,7 +192,11 @@
       'atom/browser/api/save_page_handler.h',
       'atom/browser/auto_updater.cc',
       'atom/browser/auto_updater.h',
+<<<<<<< .our
       'atom/browser/auto_updater_mac.mm',
+=======
+      'atom/browser/atom_access_token_store.h',
+>>>>>>> .their
       'atom/browser/atom_blob_reader.cc',
       'atom/browser/atom_blob_reader.h',
       'atom/browser/atom_browser_client.cc',
@@ -209,8 +207,6 @@
       'atom/browser/atom_download_manager_delegate.h',
       'atom/browser/atom_browser_main_parts.cc',
       'atom/browser/atom_browser_main_parts.h',
-      'atom/browser/atom_browser_main_parts_mac.mm',
-      'atom/browser/atom_browser_main_parts_posix.cc',
       'atom/browser/atom_javascript_dialog_manager.cc',
       'atom/browser/atom_javascript_dialog_manager.h',
       'atom/browser/atom_permission_manager.cc',
@@ -227,14 +223,9 @@
       'atom/browser/bridge_task_runner.h',
       'atom/browser/browser.cc',
       'atom/browser/browser.h',
-      'atom/browser/browser_linux.cc',
-      'atom/browser/browser_mac.mm',
-      'atom/browser/browser_win.cc',
       'atom/browser/browser_observer.h',
       'atom/browser/child_web_contents_tracker.cc',
       'atom/browser/child_web_contents_tracker.h',
-      'atom/browser/common_web_contents_delegate_mac.mm',
-      'atom/browser/common_web_contents_delegate_views.cc',
       'atom/browser/common_web_contents_delegate.cc',
       'atom/browser/common_web_contents_delegate.h',
       'atom/browser/javascript_environment.cc',
@@ -242,37 +233,14 @@
       'atom/browser/lib/bluetooth_chooser.cc',
       'atom/browser/lib/bluetooth_chooser.h',
       'atom/browser/lib/power_observer.h',
-      'atom/browser/lib/power_observer_linux.h',
-      'atom/browser/lib/power_observer_linux.cc',
       'atom/browser/loader/layered_resource_handler.cc',
       'atom/browser/loader/layered_resource_handler.h',
       'atom/browser/login_handler.cc',
       'atom/browser/login_handler.h',
-      'atom/browser/mac/atom_application.h',
-      'atom/browser/mac/atom_application.mm',
-      'atom/browser/mac/atom_application_delegate.h',
-      'atom/browser/mac/atom_application_delegate.mm',
-      'atom/browser/mac/dict_util.h',
-      'atom/browser/mac/dict_util.mm',
-      'atom/browser/mac/in_app_purchase.h',
-      'atom/browser/mac/in_app_purchase.mm',
-      'atom/browser/mac/in_app_purchase_observer.h',
-      'atom/browser/mac/in_app_purchase_observer.mm',
-      'atom/browser/mac/in_app_purchase_product.h',
-      'atom/browser/mac/in_app_purchase_product.mm',
       'atom/browser/native_browser_view.cc',
       'atom/browser/native_browser_view.h',
-      'atom/browser/native_browser_view_mac.h',
-      'atom/browser/native_browser_view_mac.mm',
-      'atom/browser/native_browser_view_views.h',
-      'atom/browser/native_browser_view_views.cc',
       'atom/browser/native_window.cc',
       'atom/browser/native_window.h',
-      'atom/browser/native_window_views_win.cc',
-      'atom/browser/native_window_views.cc',
-      'atom/browser/native_window_views.h',
-      'atom/browser/native_window_mac.h',
-      'atom/browser/native_window_mac.mm',
       'atom/browser/native_window_observer.h',
       'atom/browser/net/about_protocol_handler.cc',
       'atom/browser/net/about_protocol_handler.h',
@@ -306,9 +274,6 @@
       'atom/browser/net/url_request_stream_job.h',
       'atom/browser/node_debugger.cc',
       'atom/browser/node_debugger.h',
-      'atom/browser/relauncher_linux.cc',
-      'atom/browser/relauncher_mac.cc',
-      'atom/browser/relauncher_win.cc',
       'atom/browser/relauncher.cc',
       'atom/browser/relauncher.h',
       'atom/browser/render_process_preferences.cc',
@@ -321,13 +286,12 @@
       'atom/browser/special_storage_policy.h',
       'atom/browser/ui/accelerator_util.cc',
       'atom/browser/ui/accelerator_util.h',
-      'atom/browser/ui/accelerator_util_mac.mm',
-      'atom/browser/ui/accelerator_util_views.cc',
       'atom/browser/ui/atom_menu_model.cc',
       'atom/browser/ui/atom_menu_model.h',
       'atom/browser/ui/autofill_popup.cc',
       'atom/browser/ui/autofill_popup.h',
       'atom/browser/ui/certificate_trust.h',
+<<<<<<< .our
       'atom/browser/ui/certificate_trust_mac.mm',
       'atom/browser/ui/certificate_trust_win.cc',
       'atom/browser/ui/cocoa/atom_bundle_mover.h',
@@ -353,67 +317,14 @@
       'atom/browser/ui/cocoa/touch_bar_forward_declarations.h',
       'atom/browser/ui/drag_util_mac.mm',
       'atom/browser/ui/drag_util_views.cc',
+=======
+>>>>>>> .their
       'atom/browser/ui/drag_util.h',
       'atom/browser/ui/file_dialog.h',
-      'atom/browser/ui/file_dialog_gtk.cc',
-      'atom/browser/ui/file_dialog_mac.mm',
-      'atom/browser/ui/file_dialog_win.cc',
       'atom/browser/ui/message_box.h',
-      'atom/browser/ui/message_box_gtk.cc',
-      'atom/browser/ui/message_box_mac.mm',
-      'atom/browser/ui/message_box_win.cc',
-      'atom/browser/ui/cocoa/NSColor+Hex.mm',
-      'atom/browser/ui/cocoa/NSColor+Hex.h',
-      'atom/browser/ui/cocoa/NSString+ANSI.mm',
-      'atom/browser/ui/cocoa/NSString+ANSI.h',
       'atom/browser/ui/tray_icon.cc',
       'atom/browser/ui/tray_icon.h',
-      'atom/browser/ui/tray_icon_gtk.cc',
-      'atom/browser/ui/tray_icon_gtk.h',
-      'atom/browser/ui/tray_icon_cocoa.h',
-      'atom/browser/ui/tray_icon_cocoa.mm',
       'atom/browser/ui/tray_icon_observer.h',
-      'atom/browser/ui/tray_icon_win.cc',
-      'atom/browser/ui/views/autofill_popup_view.cc',
-      'atom/browser/ui/views/autofill_popup_view.h',
-      'atom/browser/ui/views/frameless_view.cc',
-      'atom/browser/ui/views/frameless_view.h',
-      'atom/browser/ui/views/global_menu_bar_x11.cc',
-      'atom/browser/ui/views/global_menu_bar_x11.h',
-      'atom/browser/ui/views/menu_bar.cc',
-      'atom/browser/ui/views/menu_bar.h',
-      'atom/browser/ui/views/menu_delegate.cc',
-      'atom/browser/ui/views/menu_delegate.h',
-      'atom/browser/ui/views/menu_model_adapter.cc',
-      'atom/browser/ui/views/menu_model_adapter.h',
-      'atom/browser/ui/views/native_frame_view.cc',
-      'atom/browser/ui/views/native_frame_view.h',
-      'atom/browser/ui/views/root_view.cc',
-      'atom/browser/ui/views/root_view.h',
-      'atom/browser/ui/views/submenu_button.cc',
-      'atom/browser/ui/views/submenu_button.h',
-      'atom/browser/ui/views/win_frame_view.cc',
-      'atom/browser/ui/views/win_frame_view.h',
-      'atom/browser/ui/win/atom_desktop_native_widget_aura.cc',
-      'atom/browser/ui/win/atom_desktop_native_widget_aura.h',
-      'atom/browser/ui/win/atom_desktop_window_tree_host_win.cc',
-      'atom/browser/ui/win/atom_desktop_window_tree_host_win.h',
-      'atom/browser/ui/win/jump_list.cc',
-      'atom/browser/ui/win/jump_list.h',
-      'atom/browser/ui/win/message_handler_delegate.cc',
-      'atom/browser/ui/win/message_handler_delegate.h',
-      'atom/browser/ui/win/notify_icon_host.cc',
-      'atom/browser/ui/win/notify_icon_host.h',
-      'atom/browser/ui/win/notify_icon.cc',
-      'atom/browser/ui/win/notify_icon.h',
-      'atom/browser/ui/win/taskbar_host.cc',
-      'atom/browser/ui/win/taskbar_host.h',
-      'atom/browser/ui/x/event_disabler.cc',
-      'atom/browser/ui/x/event_disabler.h',
-      'atom/browser/ui/x/window_state_watcher.cc',
-      'atom/browser/ui/x/window_state_watcher.h',
-      'atom/browser/ui/x/x_window_utils.cc',
-      'atom/browser/ui/x/x_window_utils.h',
       'atom/browser/unresponsive_suppressor.cc',
       'atom/browser/unresponsive_suppressor.h',
       'atom/browser/web_contents_permission_helper.cc',
@@ -435,12 +346,10 @@
       'atom/common/api/atom_api_asar.cc',
       'atom/common/api/atom_api_clipboard.cc',
       'atom/common/api/atom_api_clipboard.h',
-      'atom/common/api/atom_api_clipboard_mac.mm',
       'atom/common/api/atom_api_crash_reporter.cc',
       'atom/common/api/atom_api_key_weak_map.h',
       'atom/common/api/atom_api_native_image.cc',
       'atom/common/api/atom_api_native_image.h',
-      'atom/common/api/atom_api_native_image_mac.mm',
       'atom/common/api/atom_api_shell.cc',
       'atom/common/api/atom_api_v8_util.cc',
       'atom/common/api/atom_bindings.cc',
@@ -473,18 +382,6 @@
       'atom/common/common_message_generator.h',
       'atom/common/crash_reporter/crash_reporter.cc',
       'atom/common/crash_reporter/crash_reporter.h',
-      'atom/common/crash_reporter/crash_reporter_linux.cc',
-      'atom/common/crash_reporter/crash_reporter_linux.h',
-      'atom/common/crash_reporter/crash_reporter_mac.h',
-      'atom/common/crash_reporter/crash_reporter_mac.mm',
-      'atom/common/crash_reporter/crash_reporter_win.cc',
-      'atom/common/crash_reporter/crash_reporter_win.h',
-      'atom/common/crash_reporter/linux/crash_dump_handler.cc',
-      'atom/common/crash_reporter/linux/crash_dump_handler.h',
-      'atom/common/crash_reporter/win/crash_service.cc',
-      'atom/common/crash_reporter/win/crash_service.h',
-      'atom/common/crash_reporter/win/crash_service_main.cc',
-      'atom/common/crash_reporter/win/crash_service_main.h',
       'atom/common/draggable_region.cc',
       'atom/common/draggable_region.h',
       'atom/common/google_api_key.h',
@@ -493,7 +390,6 @@
       'atom/common/keyboard_util.h',
       'atom/common/mouse_util.cc',
       'atom/common/mouse_util.h',
-      'atom/common/linux/application_info.cc',
       'atom/common/native_mate_converters/accelerator_converter.cc',
       'atom/common/native_mate_converters/accelerator_converter.h',
       'atom/common/native_mate_converters/blink_converter.cc',
@@ -520,21 +416,18 @@
       'atom/common/native_mate_converters/value_converter.h',
       'atom/common/node_bindings.cc',
       'atom/common/node_bindings.h',
-      'atom/common/node_bindings_linux.cc',
-      'atom/common/node_bindings_linux.h',
-      'atom/common/node_bindings_mac.cc',
-      'atom/common/node_bindings_mac.h',
-      'atom/common/node_bindings_win.cc',
-      'atom/common/node_bindings_win.h',
       'atom/common/node_includes.h',
       'atom/common/options_switches.cc',
       'atom/common/options_switches.h',
       'atom/common/platform_util.h',
+<<<<<<< .our
       'atom/common/platform_util_linux.cc',
       'atom/common/platform_util_mac.mm',
       'atom/common/platform_util_win.cc',
       'atom/common/promise_util.h',
       'atom/common/promise_util.cc',
+=======
+>>>>>>> .their
       'atom/renderer/api/atom_api_renderer_ipc.h',
       'atom/renderer/api/atom_api_renderer_ipc.cc',
       'atom/renderer/api/atom_api_spell_check_client.cc',
@@ -565,10 +458,6 @@
       'atom/utility/atom_content_utility_client.h',
       'chromium_src/chrome/browser/browser_process.cc',
       'chromium_src/chrome/browser/browser_process.h',
-      'chromium_src/chrome/browser/chrome_process_finder_win.cc',
-      'chromium_src/chrome/browser/chrome_process_finder_win.h',
-      'chromium_src/chrome/browser/icon_loader_mac.mm',
-      'chromium_src/chrome/browser/icon_loader_win.cc',
       'chromium_src/chrome/browser/icon_loader.cc',
       'chromium_src/chrome/browser/icon_loader.h',
       'chromium_src/chrome/browser/icon_manager.cc',
@@ -576,12 +465,6 @@
       'chromium_src/chrome/browser/chrome_notification_types.h',
       'chromium_src/chrome/browser/extensions/global_shortcut_listener.cc',
       'chromium_src/chrome/browser/extensions/global_shortcut_listener.h',
-      'chromium_src/chrome/browser/extensions/global_shortcut_listener_mac.mm',
-      'chromium_src/chrome/browser/extensions/global_shortcut_listener_mac.h',
-      'chromium_src/chrome/browser/extensions/global_shortcut_listener_x11.cc',
-      'chromium_src/chrome/browser/extensions/global_shortcut_listener_x11.h',
-      'chromium_src/chrome/browser/extensions/global_shortcut_listener_win.cc',
-      'chromium_src/chrome/browser/extensions/global_shortcut_listener_win.h',
       'chromium_src/chrome/browser/media/desktop_media_list.h',
       'chromium_src/chrome/browser/media/desktop_media_list_observer.h',
       'chromium_src/chrome/browser/media/native_desktop_media_list.cc',
@@ -605,35 +488,39 @@
       'chromium_src/chrome/browser/printing/printing_message_filter.h',
       'chromium_src/chrome/browser/printing/print_preview_message_handler.cc',
       'chromium_src/chrome/browser/printing/print_preview_message_handler.h',
-      'chromium_src/chrome/browser/process_singleton_posix.cc',
-      'chromium_src/chrome/browser/process_singleton_win.cc',
       'chromium_src/chrome/browser/process_singleton.h',
+<<<<<<< .our
+=======
+      'chromium_src/chrome/browser/renderer_host/pepper/chrome_browser_pepper_host_factory.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/chrome_browser_pepper_host_factory.h',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_broker_message_filter.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_broker_message_filter.h',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_flash_browser_host.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_flash_browser_host.h',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_flash_clipboard_message_filter.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_flash_clipboard_message_filter.h',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_flash_drm_host.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_flash_drm_host.h',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_isolated_file_system_message_filter.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/pepper_isolated_file_system_message_filter.h',
+      'chromium_src/chrome/browser/renderer_host/pepper/widevine_cdm_message_filter.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/widevine_cdm_message_filter.h',
+>>>>>>> .their
       'chromium_src/chrome/browser/speech/tts_controller.h',
       'chromium_src/chrome/browser/speech/tts_controller_impl.cc',
       'chromium_src/chrome/browser/speech/tts_controller_impl.h',
-      'chromium_src/chrome/browser/speech/tts_linux.cc',
-      'chromium_src/chrome/browser/speech/tts_mac.mm',
       'chromium_src/chrome/browser/speech/tts_message_filter.cc',
       'chromium_src/chrome/browser/speech/tts_message_filter.h',
       'chromium_src/chrome/browser/speech/tts_platform.cc',
       'chromium_src/chrome/browser/speech/tts_platform.h',
-      'chromium_src/chrome/browser/speech/tts_win.cc',
       'chromium_src/chrome/browser/ssl/security_state_tab_helper.cc',
       'chromium_src/chrome/browser/ssl/security_state_tab_helper.h',
       'chromium_src/chrome/browser/ui/browser_dialogs.h',
-      'chromium_src/chrome/browser/ui/cocoa/color_chooser_mac.mm',
-      'chromium_src/chrome/browser/ui/views/color_chooser_aura.cc',
-      'chromium_src/chrome/browser/ui/views/color_chooser_aura.h',
-      'chromium_src/chrome/browser/ui/views/frame/global_menu_bar_registrar_x11.cc',
-      'chromium_src/chrome/browser/ui/views/frame/global_menu_bar_registrar_x11.h',
       'chromium_src/chrome/common/chrome_constants.cc',
       'chromium_src/chrome/common/chrome_constants.h',
       'chromium_src/chrome/common/chrome_paths.cc',
       'chromium_src/chrome/common/chrome_paths.h',
       'chromium_src/chrome/common/chrome_paths_internal.h',
-      'chromium_src/chrome/common/chrome_paths_linux.cc',
-      'chromium_src/chrome/common/chrome_paths_mac.mm',
-      'chromium_src/chrome/common/chrome_paths_win.cc',
       'chromium_src/chrome/common/pref_names.cc',
       'chromium_src/chrome/common/pref_names.h',
       'chromium_src/chrome/common/print_messages.cc',
@@ -646,9 +533,6 @@
       'chromium_src/chrome/renderer/media/chrome_key_systems.cc',
       'chromium_src/chrome/renderer/media/chrome_key_systems.h',
       'chromium_src/chrome/renderer/printing/print_web_view_helper.cc',
-      'chromium_src/chrome/renderer/printing/print_web_view_helper_linux.cc',
-      'chromium_src/chrome/renderer/printing/print_web_view_helper_mac.mm',
-      'chromium_src/chrome/renderer/printing/print_web_view_helper_pdf_win.cc',
       'chromium_src/chrome/renderer/printing/print_web_view_helper.h',
       'chromium_src/chrome/renderer/spellchecker/spellcheck_worditerator.cc',
       'chromium_src/chrome/renderer/spellchecker/spellcheck_worditerator.h',
@@ -661,22 +545,201 @@
       'chromium_src/extensions/common/url_pattern.h',
       'chromium_src/library_loaders/libspeechd_loader.cc',
       'chromium_src/library_loaders/libspeechd.h',
-      '<@(native_mate_files)',
-      '<(SHARED_INTERMEDIATE_DIR)/atom_natives.h',
+    ],
+    'lib_sources_mac': [
+      'atom/app/atom_main_delegate_mac.mm',
+      'atom/browser/api/atom_api_browser_window_mac.mm',
+      'atom/browser/api/atom_api_menu_mac.h',
+      'atom/browser/api/atom_api_menu_mac.mm',
+      'atom/browser/api/atom_api_screen_mac.mm',
+      'atom/browser/api/atom_api_system_preferences_mac.mm',
+      'atom/browser/api/atom_api_web_contents_mac.mm',
+      'atom/browser/atom_browser_main_parts_mac.mm',
+      'atom/browser/atom_browser_main_parts_posix.cc',
+      'atom/browser/auto_updater_mac.mm',
+      'atom/browser/browser_mac.mm',
+      'atom/browser/common_web_contents_delegate_mac.mm',
+      'atom/browser/mac/atom_application.h',
+      'atom/browser/mac/atom_application.mm',
+      'atom/browser/mac/atom_application_delegate.h',
+      'atom/browser/mac/atom_application_delegate.mm',
+      'atom/browser/mac/dict_util.h',
+      'atom/browser/mac/dict_util.mm',
+      'atom/browser/mac/in_app_purchase.h',
+      'atom/browser/mac/in_app_purchase.mm',
+      'atom/browser/mac/in_app_purchase_observer.h',
+      'atom/browser/mac/in_app_purchase_observer.mm',
+      'atom/browser/mac/in_app_purchase_product.h',
+      'atom/browser/mac/in_app_purchase_product.mm',
+      'atom/browser/native_browser_view_mac.h',
+      'atom/browser/native_browser_view_mac.mm',
+      'atom/browser/native_window_mac.h',
+      'atom/browser/native_window_mac.mm',
+      'atom/browser/relauncher_mac.cc',
+      'atom/browser/ui/accelerator_util_mac.mm',
+      'atom/browser/ui/certificate_trust_mac.mm',
+      'atom/browser/ui/cocoa/NSColor+Hex.h',
+      'atom/browser/ui/cocoa/NSColor+Hex.mm',
+      'atom/browser/ui/cocoa/NSString+ANSI.h',
+      'atom/browser/ui/cocoa/NSString+ANSI.mm',
+      'atom/browser/ui/cocoa/atom_bundle_mover.h',
+      'atom/browser/ui/cocoa/atom_bundle_mover.mm',
+      'atom/browser/ui/cocoa/atom_menu_controller.h',
+      'atom/browser/ui/cocoa/atom_menu_controller.mm',
+      'atom/browser/ui/cocoa/atom_native_widget_mac.h',
+      'atom/browser/ui/cocoa/atom_native_widget_mac.mm',
+      'atom/browser/ui/cocoa/atom_ns_window.h',
+      'atom/browser/ui/cocoa/atom_ns_window.mm',
+      'atom/browser/ui/cocoa/atom_ns_window_delegate.h',
+      'atom/browser/ui/cocoa/atom_ns_window_delegate.mm',
+      'atom/browser/ui/cocoa/atom_preview_item.h',
+      'atom/browser/ui/cocoa/atom_preview_item.mm',
+      'atom/browser/ui/cocoa/atom_touch_bar.h',
+      'atom/browser/ui/cocoa/atom_touch_bar.mm',
+      'atom/browser/ui/cocoa/touch_bar_forward_declarations.h',
+      'atom/browser/ui/cocoa/views_delegate_mac.h',
+      'atom/browser/ui/cocoa/views_delegate_mac.mm',
+      'atom/browser/ui/drag_util_mac.mm',
+      'atom/browser/ui/file_dialog_mac.mm',
+      'atom/browser/ui/message_box_mac.mm',
+      'atom/browser/ui/tray_icon_cocoa.h',
+      'atom/browser/ui/tray_icon_cocoa.mm',
+      'atom/common/api/atom_api_clipboard_mac.mm',
+      'atom/common/api/atom_api_native_image_mac.mm',
+      'atom/common/crash_reporter/crash_reporter_mac.h',
+      'atom/common/crash_reporter/crash_reporter_mac.mm',
+      'atom/common/node_bindings_mac.cc',
+      'atom/common/node_bindings_mac.h',
+      'atom/common/platform_util_mac.mm',
+      'chromium_src/chrome/browser/extensions/global_shortcut_listener_mac.h',
+      'chromium_src/chrome/browser/extensions/global_shortcut_listener_mac.mm',
+      'chromium_src/chrome/browser/icon_loader_mac.mm',
+      'chromium_src/chrome/browser/process_singleton_posix.cc',
+      'chromium_src/chrome/browser/renderer_host/pepper/monitor_finder_mac.h',
+      'chromium_src/chrome/browser/renderer_host/pepper/monitor_finder_mac.mm',
+      'chromium_src/chrome/browser/speech/tts_mac.mm',
+      'chromium_src/chrome/browser/ui/cocoa/color_chooser_mac.mm',
+      'chromium_src/chrome/common/chrome_paths_mac.mm',
+      'chromium_src/chrome/renderer/printing/print_web_view_helper_mac.mm',
+    ],
+    'lib_sources_views': [
+      'atom/browser/api/atom_api_browser_window_views.cc',
+      'atom/browser/api/atom_api_menu_views.cc',
+      'atom/browser/api/atom_api_menu_views.h',
+      'atom/browser/common_web_contents_delegate_views.cc',
+      'atom/browser/native_browser_view_views.cc',
+      'atom/browser/native_browser_view_views.h',
+      'atom/browser/native_window_views.cc',
+      'atom/browser/native_window_views.h',
+      'atom/browser/ui/accelerator_util_views.cc',
+      'atom/browser/ui/drag_util_views.cc',
+      'atom/browser/ui/views/autofill_popup_view.cc',
+      'atom/browser/ui/views/autofill_popup_view.h',
+      'atom/browser/ui/views/frameless_view.cc',
+      'atom/browser/ui/views/frameless_view.h',
+      'atom/browser/ui/views/menu_bar.cc',
+      'atom/browser/ui/views/menu_bar.h',
+      'atom/browser/ui/views/menu_delegate.cc',
+      'atom/browser/ui/views/menu_delegate.h',
+      'atom/browser/ui/views/menu_model_adapter.cc',
+      'atom/browser/ui/views/menu_model_adapter.h',
+      'atom/browser/ui/views/native_frame_view.cc',
+      'atom/browser/ui/views/native_frame_view.h',
+      'atom/browser/ui/views/root_view.cc',
+      'atom/browser/ui/views/root_view.h',
+      'atom/browser/ui/views/submenu_button.cc',
+      'atom/browser/ui/views/submenu_button.h',
+      'atom/browser/ui/views/win_frame_view.cc',
+      'atom/browser/ui/views/win_frame_view.h',
+      'chromium_src/chrome/browser/ui/views/color_chooser_aura.cc',
+      'chromium_src/chrome/browser/ui/views/color_chooser_aura.h',
     ],
     'lib_sources_linux': [
+      'atom/browser/atom_browser_main_parts_posix.cc',
+      'atom/browser/browser_linux.cc',
+      'atom/browser/lib/power_observer_linux.cc',
+      'atom/browser/lib/power_observer_linux.h',
+      'atom/browser/relauncher_linux.cc',
+      'atom/browser/ui/file_dialog_gtk.cc',
+      'atom/browser/ui/message_box_gtk.cc',
+      'atom/browser/ui/tray_icon_gtk.cc',
+      'atom/browser/ui/tray_icon_gtk.h',
+      'atom/browser/ui/views/global_menu_bar_x11.cc',
+      'atom/browser/ui/views/global_menu_bar_x11.h',
+      'atom/browser/ui/x/event_disabler.cc',
+      'atom/browser/ui/x/event_disabler.h',
+      'atom/browser/ui/x/window_state_watcher.cc',
+      'atom/browser/ui/x/window_state_watcher.h',
+      'atom/browser/ui/x/x_window_utils.cc',
+      'atom/browser/ui/x/x_window_utils.h',
+      'atom/common/crash_reporter/crash_reporter_linux.cc',
+      'atom/common/crash_reporter/crash_reporter_linux.h',
+      'atom/common/crash_reporter/linux/crash_dump_handler.cc',
+      'atom/common/crash_reporter/linux/crash_dump_handler.h',
+      'atom/common/linux/application_info.cc',
+      'atom/common/node_bindings_linux.cc',
+      'atom/common/node_bindings_linux.h',
+      'atom/common/platform_util_linux.cc',
+      'chromium_src/chrome/browser/extensions/global_shortcut_listener_x11.cc',
+      'chromium_src/chrome/browser/extensions/global_shortcut_listener_x11.h',
       'chromium_src/chrome/browser/icon_loader_auralinux.cc',
+      'chromium_src/chrome/browser/process_singleton_posix.cc',
+      'chromium_src/chrome/browser/speech/tts_linux.cc',
+      'chromium_src/chrome/browser/ui/views/frame/global_menu_bar_registrar_x11.cc',
+      'chromium_src/chrome/browser/ui/views/frame/global_menu_bar_registrar_x11.h',
+      'chromium_src/chrome/common/chrome_paths_linux.cc',
+      'chromium_src/chrome/renderer/printing/print_web_view_helper_linux.cc',
     ],
     'lib_sources_nss': [
       'chromium_src/chrome/browser/certificate_manager_model.cc',
       'chromium_src/chrome/browser/certificate_manager_model.h',
     ],
     'lib_sources_win': [
+      'atom/browser/api/atom_api_system_preferences_win.cc',
+      'atom/browser/browser_win.cc',
+      'atom/browser/native_window_views_win.cc',
+      'atom/browser/relauncher_win.cc',
+      'atom/browser/ui/certificate_trust_win.cc',
+      'atom/browser/ui/file_dialog_win.cc',
+      'atom/browser/ui/message_box_win.cc',
+      'atom/browser/ui/tray_icon_win.cc',
+      'atom/browser/ui/win/atom_desktop_native_widget_aura.cc',
+      'atom/browser/ui/win/atom_desktop_native_widget_aura.h',
+      'atom/browser/ui/win/atom_desktop_window_tree_host_win.cc',
+      'atom/browser/ui/win/atom_desktop_window_tree_host_win.h',
+      'atom/browser/ui/win/jump_list.cc',
+      'atom/browser/ui/win/jump_list.h',
+      'atom/browser/ui/win/message_handler_delegate.cc',
+      'atom/browser/ui/win/message_handler_delegate.h',
+      'atom/browser/ui/win/notify_icon.cc',
+      'atom/browser/ui/win/notify_icon.h',
+      'atom/browser/ui/win/notify_icon_host.cc',
+      'atom/browser/ui/win/notify_icon_host.h',
+      'atom/browser/ui/win/taskbar_host.cc',
+      'atom/browser/ui/win/taskbar_host.h',
+      'atom/common/crash_reporter/crash_reporter_win.cc',
+      'atom/common/crash_reporter/crash_reporter_win.h',
+      'atom/common/crash_reporter/win/crash_service.cc',
+      'atom/common/crash_reporter/win/crash_service.h',
+      'atom/common/crash_reporter/win/crash_service_main.cc',
+      'atom/common/crash_reporter/win/crash_service_main.h',
+      'atom/common/node_bindings_win.cc',
+      'atom/common/node_bindings_win.h',
+      'atom/common/platform_util_win.cc',
+      'chromium_src/chrome/browser/chrome_process_finder_win.cc',
+      'chromium_src/chrome/browser/chrome_process_finder_win.h',
+      'chromium_src/chrome/browser/extensions/global_shortcut_listener_win.cc',
+      'chromium_src/chrome/browser/extensions/global_shortcut_listener_win.h',
+      'chromium_src/chrome/browser/icon_loader_win.cc',
+      'chromium_src/chrome/browser/printing/pdf_to_emf_converter.cc',
+      'chromium_src/chrome/browser/printing/pdf_to_emf_converter.h',
+      'chromium_src/chrome/browser/process_singleton_win.cc',
+      'chromium_src/chrome/browser/speech/tts_win.cc',
       'chromium_src/chrome/browser/ui/views/color_chooser_dialog.cc',
       'chromium_src/chrome/browser/ui/views/color_chooser_dialog.h',
       'chromium_src/chrome/browser/ui/views/color_chooser_win.cc',
-      'chromium_src/chrome/browser/printing/pdf_to_emf_converter.cc',
-      'chromium_src/chrome/browser/printing/pdf_to_emf_converter.h',
+      'chromium_src/chrome/common/chrome_paths_win.cc',
+      'chromium_src/chrome/renderer/printing/print_web_view_helper_pdf_win.cc',
       'chromium_src/chrome/utility/printing_handler_win.cc',
       'chromium_src/chrome/utility/printing_handler_win.h',
     ],
